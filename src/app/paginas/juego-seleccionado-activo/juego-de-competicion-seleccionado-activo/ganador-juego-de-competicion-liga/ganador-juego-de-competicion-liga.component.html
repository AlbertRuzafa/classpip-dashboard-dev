<div class="titulo">Pantalla para asignar el Ganador</div>
<mat-divider class="lineaDivisoria"></mat-divider>

<div class="contenedor">
  <div class="enColumna">
    <div class = "enFila" style="width: 100%">
      <div>
        Seleccione
        <br>
        <mat-form-field >
          <mat-label>Jornada</mat-label>
          <select matNativeControl [(ngModel)]="jornadaId" (change) = "ActualizarBoton()">
            <option *ngFor="let jornada of JornadasCompeticion" [value]="jornada.id">
              Jornada {{jornada.NumeroDeJornada}}
            </option>
          </select>
        </mat-form-field>
      </div>

      <div style="margin-top: 10px; margin-left: 570px; margin-right: 10px;">
        <button style= "width: 100%" type="button"class="btn Aceptar" [disabled]="botonAsignarDesactivado">Manualmente</button>
        <!-- <button style= "width: 100%" type="button"class="btn Aceptar" [disabled]="botonAsignarDesactivado" (click) = AsignarPuntos()>Manualmente</button> -->
      </div>
      <div style="margin-top: 10px; margin-right: 10px;">
        <button style= "width: 100%"  type="button"class="btn Aceptar"  [disabled]="botonAsignarDesactivado">Aleatoriamente</button>
        <!-- <button style= "width: 100%"  type="button"class="btn Aceptar" (click) = AsignarAleatorio()>Aleatoriamente</button> -->
      </div>
    </div>

    <form style="width: 100%">
      <table style="width: 80%" align="center" *ngIf="juegoSeleccionado.Modo === 'Individual' && jornadaId != undefined" mat-table [dataSource]="dataSourceTablaGanadorIndividual" class="mat-elevation-z8">

        <!--    La primera columna será un checkbox -->
        <ng-container matColumnDef="select1">
          <th mat-header-cell *matHeaderCellDef>
        <!-- Si cambia el checkbox header (change) hay que actualizar los seleccionados y el
              estado del botón
              Sl estado del checkbox header será [checked] si todas las filas están
              seleccionadas
              y será [indeterminate] si hay alguna seleccionada pero no todas
              La función selection.hasValue() esta predefinida.
         -->
            <mat-checkbox></mat-checkbox>
          </th>

          <td mat-cell  style= "text-align: left" *matCellDef="let row">
        <!--    Para cada uno de los check box de la columna
            En el caso de que haya un cambio entonces pasa de seleccionada a no seleccionada
            o viceversa. Además hay que actualizar el estado del boton
            El checkbox estará [checked] si la fila está seleccionada
            Las funciones selection.isSelected(row) y selection.toggle(row) estan predefinidas
            Lo que se pone en (click) no lo entiendo muy bien pero si no se pone a veces falla
            (no se queda marcado el checkbox)
        -->
            <mat-checkbox></mat-checkbox>
          </td>
        </ng-container>


        <!-- Nombre Jugador 1 Column -->
        <ng-container matColumnDef="nombreJugadorUno">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla"> Alumno 1 </th>
          <td mat-cell *matCellDef="let enfrentamiento"> {{enfrentamiento.nombreJugadorUno}} </td>
        </ng-container>

        <!--    La primera columna será un checkbox -->
        <ng-container matColumnDef="select2">
          <th mat-header-cell *matHeaderCellDef>
        <!-- Si cambia el checkbox header (change) hay que actualizar los seleccionados y el
              estado del botón
              Sl estado del checkbox header será [checked] si todas las filas están
              seleccionadas
              y será [indeterminate] si hay alguna seleccionada pero no todas
              La función selection.hasValue() esta predefinida.
         -->
            <mat-checkbox></mat-checkbox>
          </th>

          <td mat-cell  style= "text-align: left" *matCellDef="let row">
        <!--    Para cada uno de los check box de la columna
            En el caso de que haya un cambio entonces pasa de seleccionada a no seleccionada
            o viceversa. Además hay que actualizar el estado del boton
            El checkbox estará [checked] si la fila está seleccionada
            Las funciones selection.isSelected(row) y selection.toggle(row) estan predefinidas
            Lo que se pone en (click) no lo entiendo muy bien pero si no se pone a veces falla
            (no se queda marcado el checkbox)
        -->
            <mat-checkbox></mat-checkbox>
          </td>
        </ng-container>

        <!-- Nombre Jugador 2 Column -->
        <ng-container matColumnDef="nombreJugadorDos">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla"> Alumno 2 </th>
          <td mat-cell *matCellDef="let enfrentamiento"> {{enfrentamiento.nombreJugadorDos}} </td>
        </ng-container>

        <!--    La primera columna será un checkbox -->
        <ng-container matColumnDef="select3">
          <th mat-header-cell *matHeaderCellDef>
        <!-- Si cambia el checkbox header (change) hay que actualizar los seleccionados y el
              estado del botón
              Sl estado del checkbox header será [checked] si todas las filas están
              seleccionadas
              y será [indeterminate] si hay alguna seleccionada pero no todas
              La función selection.hasValue() esta predefinida.
         -->
            <mat-checkbox></mat-checkbox>
            <!-- <mat-checkbox
                          (change)="$event ? MasterToggle() : null; ActualizarBoton ();"
                          [checked]="selection.hasValue() && IsAllSelected()"
                          [indeterminate]="selection.hasValue() && !IsAllSelected()">
            </mat-checkbox> -->
          </th>

          <td mat-cell  style= "text-align: left" *matCellDef="let row">
        <!--    Para cada uno de los check box de la columna
            En el caso de que haya un cambio entonces pasa de seleccionada a no seleccionada
            o viceversa. Además hay que actualizar el estado del boton
            El checkbox estará [checked] si la fila está seleccionada
            Las funciones selection.isSelected(row) y selection.toggle(row) estan predefinidas
            Lo que se pone en (click) no lo entiendo muy bien pero si no se pone a veces falla
            (no se queda marcado el checkbox)
        -->
            <mat-checkbox></mat-checkbox>
            <!-- <mat-checkbox
                          (click)="$event.stopPropagation()"
                          (change)="$event ? selection.toggle(row) : null; ActualizarBoton ();"
                          [checked]="selection.isSelected(row)">
            </mat-checkbox> -->
          </td>
        </ng-container>

        <!-- Nombre Empate Column -->
        <ng-container matColumnDef="Empate">
          <th mat-header-cell *matHeaderCellDef class="tituloColumnaTabla"> Empate </th>
          <td mat-cell *matCellDef="let enfrentamiento"> Empate </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsAlumno"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsAlumno;"></tr>

      </table>
    </form>
    <br>
    <button type="button" class="btn Back" (click)="goBack()">Volver </button>
  </div>
</div>
